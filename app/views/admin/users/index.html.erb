<h1 class="text-2xl font-semibold mb-4 text-gray-900 dark:text-white">All Users</h1>

<table class="min-w-full bg-white rounded shadow dark:bg-gray-800">
  <thead class="bg-gray-100 border-b dark:bg-gray-700 dark:border-gray-600">
    <tr>
      <th class="text-left px-4 py-2 font-semibold text-gray-700 dark:text-white">Email</th>
      <th class="text-left px-4 py-2 font-semibold text-gray-700 dark:text-white">Role</th>
      <th class="text-left px-4 py-2 font-semibold text-gray-700 dark:text-white">Project</th>
      <th class="px-4 py-2"></th>
    </tr>
  </thead>
  <tbody>
    <% @users.each do |user| %>
      <tr class="border-b dark:border-gray-600">
        <td class="px-4 py-2">
          <%= link_to user.email, admin_user_path(user), class: "text-blue-600 hover:text-blue-800 dark:text-blue-400 dark:hover:text-blue-500" %>
        </td>
        <td class="px-4 py-2 text-gray-700 dark:text-white"><%= user.role %></td>
        <td class="px-4 py-2 text-gray-700 dark:text-white"><%= user.project&.name || "None" %></td>
        <td class="px-4 py-2 text-right whitespace-nowrap">
          <%= link_to "Edit", edit_admin_user_path(user),
                      class: "text-blue-600 hover:text-blue-800 mr-2 dark:text-blue-400 dark:hover:text-blue-500" %> 
          <%= link_to "Delete", admin_user_path(user),
                      method: :delete,
                      data: { confirm: "Are you sure you want to delete this user?" },
                      class: "text-red-600 hover:text-red-800 dark:text-red-400 dark:hover:text-red-500" %>
        </td>
      </tr>
    <% end %>
  </tbody>
</table>

<div class="mt-4">
  <%= link_to "Create New User",
              new_admin_user_path,
              class: "bg-blue-600 text-white font-semibold px-4 py-2 rounded hover:bg-blue-700 dark:bg-blue-700 dark:hover:bg-blue-600" %>
</div>
